% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clr.R
\name{clr_transform}
\alias{clr_transform}
\title{Centred log-ratio (CLR) transformation for compositional data}
\usage{
clr_transform(X, zero.method = c("none", "cmultRepl"), ...)
}
\arguments{
\item{X}{A numeric matrix or data frame. Rows = observations, columns = parts.}

\item{zero.method}{Character; how to handle zeros:
\itemize{
  \item \code{"none"}: require strictly positive entries; error if any
    \eqn{\le 0}.
  \item \code{"cmultRepl"}: use \code{zCompositions::cmultRepl} to perform
    multiplicative replacement of zeros.
}}

\item{...}{Additional arguments passed to \code{zCompositions::cmultRepl}
when \code{zero.method = "cmultRepl"}.}
}
\value{
A numeric matrix of the same dimension as \code{X} containing
  CLR-transformed values. Row and column names are preserved if present.
}
\description{
Performs the centred log-ratio (CLR) transform on a numeric matrix or
data frame. Optionally handles zeros using \code{zCompositions::cmultRepl}.
Rows are treated as observations and columns as parts.
}
\details{
For a composition \eqn{X_i = (X_{i1}, \ldots, X_{iD})}, the CLR transform is
\deqn{
  \mathrm{clr}(X_i)_j = \log(X_{ij}) - \frac{1}{D}\sum_{k=1}^D \log(X_{ik}).
}
The CLR is scale-invariant, so the rows of \code{X} need not be closed.
}
\examples{
## Example 1: simple positive counts (no zeros)
X <- matrix(c(10, 20, 30,
              5,  5, 10),
            nrow = 2, byrow = TRUE)
colnames(X) <- c("A", "B", "C")

CLR_X <- clr_transform(X)
CLR_X

## Example 2: data with zeros, using zCompositions (if available)
X0 <- rbind(c(0, 2, 3),
            c(1, 1, 0),
            c(1, 1, 5))
colnames(X0) <- c("A", "B", "C")

CLR_X0 <- clr_transform(X0, zero.method = "cmultRepl")
CLR_X0

## Example 3: data frame input also works
DF <- data.frame(A = c(4, 1, 2),
                 B = c(1, 3, 2),
                 C = c(5, 6, 1))
CLR_DF <- clr_transform(DF)
CLR_DF

}
